<?xml version="1.0" encoding="UTF-8"?>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ifx="http://infox.com.br/trainee"
    template="/WEB-INF/templates/default.xhtml">
    <ui:define name="content">
       <h:form id="registrarPessoaFisica">
			<h:panelGrid columns="2" columnClasses="titleCell">
				<ifx:inputText id="name" label="Nome: "
					value="#{pessoaFisicaController.novaPessoa.name}" />
				
				<ifx:inputText id="email" label="Email: "
					value="#{pessoaFisicaController.novaPessoa.email}" />
				
				<ifx:inputText id="cpf" label="CPF: "
					validator="pessoafisica.CpfValidator"
					converter="pessoafisica.CpfConverter"
					value="#{pessoaFisicaController.novaPessoa.cpf}" />
	
				<ifx:inputText id="phoneNumber" label="Telefone: "
					 value = "#{pessoaFisicaController.novaPessoa.phoneNumber}"/>
				
				<ifx:inputText id="birthDate" label="Data de Nascimento: "
	       			 value = "#{pessoaFisicaController.novaPessoa.birthDate}"> 
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</ifx:inputText>
				
				<div>
					<h:commandButton id="registrar" value="Registrar" action="#{pessoaFisicaController.registrar}"/>
       			</div>
			</h:panelGrid>
       </h:form>
       
       <h:dataTable var="pessoa" styleClass="simpletablestyle" value="#{pessoaFisicaController.pessoas}">
       		<h:column>
       			<f:facet name="header">NOME</f:facet>
       			<h:outputText value="#{pessoa.name}"/>
       		</h:column>
       		<h:column>
       			<f:facet name="header">EMAIL</f:facet>
       			<h:outputText value="#{pessoa.email}"/>
       		</h:column>
       		<h:column>
       			<f:facet name="header">CPF</f:facet>
       			<h:outputText converter="pessoafisica.CpfConverter" value="#{pessoa.cpf}"/>
       		</h:column>
       		<h:column>
       			<f:facet name="header">TELEFONE</f:facet>
       			<h:outputText value="#{pessoa.phoneNumber}"/>
       		</h:column>
       		<h:column>
       			<f:facet name="header">DATA DE NASCIMENTO</f:facet>
       			<h:outputText value="#{pessoa.birthDate}">
       				<f:convertDateTime pattern="dd/MM/yyyy"/>
       			</h:outputText>
       		</h:column>
       </h:dataTable>
		
    </ui:define>
</ui:composition>
